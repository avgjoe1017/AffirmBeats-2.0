+ exec gosu vibecode scripts/start --hot
Installing dependencies and generating Prisma client...
[0.03ms] ".env"
bun install v1.2.19 (aad3abea)

$ prisma generate
Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma

âœ” Generated Prisma Client (v6.17.1) to ./generated/prisma in 111ms

Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)

Tip: Interested in query caching in just a few lines of code? Try Accelerate today! https://pris.ly/tip-3-accelerate


Checked 760 installs across 702 packages (no changes) [1409.00ms]
Starting server in dev mode with hot reload...
$ NODE_ENV=development bun run --hot src/index.ts
Failed to find Response internal state key
âœ… Environment variables validated successfully
ğŸ” [Auth] Initializing Better Auth...
âœ… [Auth] Better Auth initialized
ğŸ”— [Auth] Base URL: https://preview-qjwgtbibwrsl.share.sandbox.dev
ğŸŒ [Auth] Trusted origins: vibecode://, http://localhost:3000, https://preview-qjwgtbibwrsl.share.sandbox.dev
ğŸ“ [Upload] Uploads directory exists: /home/user/workspace/backend/uploads
ğŸ”§ Initializing Hono application...
ğŸ” Mounting Better Auth handler at /api/auth/*
ğŸ“ Serving static files from uploads/ directory
ğŸ“¤ Mounting upload routes at /api/upload
ğŸ“ Mounting sample routes at /api/sample
âš™ï¸  Mounting preferences routes at /api/preferences
ğŸµ Mounting sessions routes at /api/sessions
ğŸ¤ Mounting TTS routes at /api/tts
ğŸ’³ Mounting subscription routes at /api/subscription
âš™ï¸  Starting server...
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“ Environment: development
ğŸš€ Server is running on port 3000
ğŸ”— Base URL: http://localhost:3000
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“š Available endpoints:
  ğŸ” Auth:         /api/auth/*
  ğŸ“¤ Upload:       POST /api/upload/image
  ğŸ“ Sample:       GET/POST /api/sample
  âš™ï¸  Preferences:  GET/PATCH /api/preferences
  ğŸµ Sessions:     GET/POST /api/sessions
  ğŸ¤ TTS:          POST /api/tts/generate
  ğŸ’³ Subscription: GET/POST /api/subscription
  ğŸ’š Health:       GET /health
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Failed to find Response internal state key
âœ… Environment variables validated successfully
ğŸ” [Auth] Initializing Better Auth...
âœ… [Auth] Better Auth initialized
ğŸ”— [Auth] Base URL: https://preview-qjwgtbibwrsl.share.sandbox.dev
ğŸŒ [Auth] Trusted origins: vibecode://, http://localhost:3000, https://preview-qjwgtbibwrsl.share.sandbox.dev
ğŸ“ [Upload] Uploads directory exists: /home/user/workspace/backend/uploads
ğŸ”§ Initializing Hono application...
ğŸ” Mounting Better Auth handler at /api/auth/*
ğŸ“ Serving static files from uploads/ directory
ğŸ“¤ Mounting upload routes at /api/upload
ğŸ“ Mounting sample routes at /api/sample
âš™ï¸  Mounting preferences routes at /api/preferences
ğŸµ Mounting sessions routes at /api/sessions
ğŸ¤ Mounting TTS routes at /api/tts
ğŸ’³ Mounting subscription routes at /api/subscription
âš™ï¸  Starting server...
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“ Environment: development
ğŸš€ Server is running on port 3000
ğŸ”— Base URL: http://localhost:3000
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“š Available endpoints:
  ğŸ” Auth:         /api/auth/*
  ğŸ“¤ Upload:       POST /api/upload/image
  ğŸ“ Sample:       GET/POST /api/sample
  âš™ï¸  Preferences:  GET/PATCH /api/preferences
  ğŸµ Sessions:     GET/POST /api/sessions
  ğŸ¤ TTS:          POST /api/tts/generate
  ğŸ’³ Subscription: GET/POST /api/subscription
  ğŸ’š Health:       GET /health
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<-- GET /api/sessions
ğŸ“š [Sessions] Returning default sessions for guest user
--> GET /api/sessions [32m200[0m 4ms
<-- GET /api/preferences
--> GET /api/preferences [33m401[0m 1ms
<-- GET /api/subscription
--> GET /api/subscription [32m200[0m 0ms
<-- POST /api/sessions/generate
ğŸµ [Sessions] Generating session for guest, goal: calm, with custom prompt
ğŸ“ [Sessions] Using fallback affirmations for goal: calm
âœ… [Sessions] Session generated: temp-1762928847605-gbk3r7bij
--> POST /api/sessions/generate [32m200[0m 15ms
